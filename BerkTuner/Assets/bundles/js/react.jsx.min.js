"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Button=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return this.props.disabled?React.createElement("a",{href:this.props.href,className:this.props.className,onClick:this.props.onClick,disabled:!0},this.props.text):React.createElement("a",{href:this.props.href,className:this.props.className,onClick:this.props.onClick},this.props.text)}}]),t}(React.Component),URLS={decreaseVolume:Router.action("Home","DecreaseVolume"),stream:Router.action("Home","Stream"),streamer:Router.action("Home","Streamer"),flashSWF:"../Assets/bundles/images/soundmanager2.swf",flashJS:"../Assets/bundles/js/soundmanager2.js",particleBase:"../Assets/bundles/images/particle_"},MESSAGES={alreadyMuted:"Device is already muted",noDeviceFound:"No devices found to record",uncaughtError:"Oops, an error has occured. Please try again later.."},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Log=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return React.createElement("p",null,this.props.text)}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),LogList=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={data:e.data},n}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=this,t=$.connection.tunerHub;null!=t&&(t.client.updateLastIPsAndActions=function(t){var n=e.state.data.slice();n.unshift(t),e.setState({data:n})},$.connection.hub.state===$.signalR.connectionState.disconnected&&$.connection.hub.start())}},{key:"render",value:function(){var e=this.state.data.map(function(e,t){return React.createElement(Log,{text:e.IP+" - "+e.Action,key:t})});return 0!=e.length&&React.createElement("div",null,React.createElement("span",null,"Last Logs:"),e)}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),SoundLevelControls=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={currentVolume:e.currentVolume,isMuteDisabled:!e.audioDeviceExists||0==e.currentVolume,isReduceDisabled:!e.audioDeviceExists||0==e.currentVolume,isStreamDisabled:!e.audioDeviceExists},n.muteClick=n.muteClick.bind(n),n.reduceVolumeClick=n.reduceVolumeClick.bind(n),n.streamClick=n.streamClick.bind(n),n.enableDisableButtons=n.enableDisableButtons.bind(n),n}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=this,t=$.connection.tunerHub;t&&(t.client.updateSoundLevel=function(t){e.setState({currentVolume:t},function(){e.enableDisableButtons()})},$.connection.hub.state===$.signalR.connectionState.disconnected&&$.connection.hub.start(),$("[data-toggle=tooltip]").tooltip({trigger:"hover"}))}},{key:"decreaseVolume",value:function(e){var t=0;e||(t=Math.max(this.state.currentVolume-10,0)),$.ajax({url:URLS.decreaseVolume,data:{level:t},type:"POST",success:function(e){e&&e.message&&bootbox.alert(e.message)}})}},{key:"muteClick",value:function(e){this.state.isMuteDisabled||this.decreaseVolume(!0)}},{key:"reduceVolumeClick",value:function(e){this.state.isReduceDisabled||this.decreaseVolume()}},{key:"streamClick",value:function(e){this.state.isStreamDisabled||(window.location.href=URLS.streamer)}},{key:"enableDisableButtons",value:function(){var e={isMuteDisabled:!this.props.audioDeviceExists||0==this.state.currentVolume,isReduceDisabled:!this.props.audioDeviceExists||0==this.state.currentVolume,isStreamDisabled:!this.props.audioDeviceExists};this.state.isMuteDisabled==e.isMuteDisabled&&this.state.isReduceDisabled==e.isReduceDisabled&&this.state.isStreamDisabled==e.isStreamDisabled||this.setState(e)}},{key:"render",value:function(){var e=void 0,t=void 0,n=void 0;return this.props.audioDeviceExists?0==this.state.currentVolume&&(e=t=MESSAGES.alreadyMuted):e=t=n=MESSAGES.noDeviceFound,React.createElement("div",{id:"container",className:"btn-group btn-group-sm",role:"group","aria-label":"Sound Level Controls"},React.createElement("div",{className:"tooltip-wrapper","data-toggle":"tooltip","data-placement":"bottom","data-original-title":e},React.createElement(Button,{href:"javascript:void(0);",className:"btn btn-danger btn-sm",text:"Mute",onClick:this.muteClick,disabled:this.state.isMuteDisabled})),React.createElement("div",{className:"tooltip-wrapper","data-toggle":"tooltip","data-placement":"bottom","data-original-title":t},React.createElement(Button,{href:"javascript:void(0);",className:"btn btn-warning btn-sm",text:"Reduce Volume (Current: "+this.state.currentVolume+")",onClick:this.reduceVolumeClick,disabled:this.state.isReduceDisabled})),React.createElement("div",{className:"tooltip-wrapper","data-toggle":"tooltip","data-placement":"bottom","data-original-title":n},React.createElement(Button,{href:"javascript:void(0);",className:"btn btn-success btn-sm",text:"Stream",onClick:this.streamClick,disabled:this.state.isStreamDisabled})))}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Streamer=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return React.createElement("p",null,this.props.text)}}]),t}(React.Component),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),StreamerList=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={data:e.data},n}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=this,t=$.connection.tunerHub;null!=t&&(t.client.updateStreamers=function(t,n){var r=e.state.data.slice();if(n===$.signalR.connectionState.connected)r.unshift(t);else if(n===$.signalR.connectionState.disconnected){var o=r.indexOf(t);o!=-1&&r.splice(o,1)}e.setState({data:r})},$.connection.hub.state===$.signalR.connectionState.disconnected&&$.connection.hub.start())}},{key:"render",value:function(){var e=this.state.data.map(function(e,t){return React.createElement(Streamer,{text:e,key:t})});return 0!=e.length&&React.createElement("div",{className:"streamerList"},React.createElement("span",null,"Streamers:"),e)}}]),t}(React.Component);
//# sourceMappingURL=../maps/js/react.jsx.min.js.map
